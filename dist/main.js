(()=>{"use strict";class e{constructor(e,t,i,s,n){this.reference=e,this.title=t,this.description=i,this.dueDate=s,this.priority=n}getTitle(){return this.title}getDescription(){return this.description}getDueDate(){return this.dueDate}getPriority(){return this.priority}getReference(){return this.reference}setTitle(e){this.title=e}setDescription(e){this.description=e}setDueDate(e){this.dueDate=e}setPriority(e){this.priority=e}setReference(e){this.reference=e}}function t(){let e=document.createElement("div");e.classList.add("item");let t=Object.assign(document.createElement("input"),{type:"text",placeholder:"Type here"});return e.appendChild(t),e}function i(){return new e(t())}const s=new class{constructor(){this.lists=[]}addList(e){this.lists.push(e)}},n=new class{constructor(e,t="To-Do"){this.name=t,this.reference=e,this.items=[]}getName(){return this.name}getItems(){return this.items}getReference(){return this.reference}setName(e){this.name=e}addItem(e){this.items.push(e)}removeItem(e){this.items.splice(this.items.indexOf(e),1)}}(function(){let e=document.createElement("div");e.classList.add("list");let t=document.createElement("div");t.classList.add("title");let i=Object.assign(document.createElement("input"),{type:"text",value:"To-Do"}),s=document.createElement("div");return s.classList.add("items"),t.appendChild(i),e.appendChild(t),e.appendChild(s),e}()),r=new e(t());var c;n.addItem(r),s.addList(n),c=n,document.querySelector("div.lists").appendChild(c.getReference()),function(e,t){e.getReference().querySelector(".items").appendChild(t.getReference())}(n,r),function e(t,s){let n=t.getReference().querySelector("div.title input");console.log(n),n.addEventListener("change",(()=>{t.setName(n.value),console.log("List title has been updated"),console.log(t.getName())}));let r=s.getReference().querySelector("input");console.log(r),r.addEventListener("change",(()=>{s.setTitle(r.value),console.log("Title has been updated"),console.log(s.getTitle()),console.log(t.getItems())})),r.addEventListener("keydown",(function(n){if("Enter"===n.key&&""!==r.value){console.log("create new item has fired");let s=i();t.addItem(s),t.getReference().querySelector(".items").appendChild(s.getReference()),s.getReference().querySelector("input").focus(),e(t,s),console.log("New Item has been added")}"Backspace"===n.key&&""===r.value&&t.getItems().length>1&&(console.log("Delete this item"),s.getReference().remove(),t.removeItem(s),console.log(t.getItems()),n.preventDefault(),t.getItems().slice(-1)[0].getReference().querySelector("input").focus())}))}(n,r)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ2UsTUFBTUEsRUFDakIsV0FBQUMsQ0FBWUMsRUFBV0MsRUFBUUMsRUFBYUMsRUFBU0MsR0FDcERDLEtBQUtMLFVBQVlBLEVBQ2pCSyxLQUFLSixNQUFRQSxFQUNiSSxLQUFLSCxZQUFjQSxFQUNuQkcsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0QsU0FBV0EsQ0FFakIsQ0FFQSxRQUFBRSxHQUNJLE9BQU9ELEtBQUtKLEtBQ2hCLENBQ0EsY0FBQU0sR0FDSSxPQUFPRixLQUFLSCxXQUNoQixDQUNBLFVBQUFNLEdBQ0ksT0FBT0gsS0FBS0YsT0FDaEIsQ0FDQSxXQUFBTSxHQUNJLE9BQU9KLEtBQUtELFFBQ2hCLENBQ0EsWUFBQU0sR0FDSSxPQUFPTCxLQUFLTCxTQUNoQixDQUVBLFFBQUFXLENBQVNDLEdBQ0xQLEtBQUtKLE1BQVFXLENBQ2pCLENBQ0EsY0FBQUMsQ0FBZUMsR0FDWFQsS0FBS0gsWUFBY1ksQ0FDdkIsQ0FDQSxVQUFBQyxDQUFXQyxHQUNQWCxLQUFLRixRQUFVYSxDQUNuQixDQUNBLFdBQUFDLENBQVlDLEdBQ1JiLEtBQUtELFNBQVdjLENBQ3BCLENBQ0EsWUFBQUMsQ0FBYUMsR0FDVGYsS0FBS0wsVUFBWW9CLENBQ3JCLEVDdENHLFNBQVNDLElBRVosSUFBSUMsRUFBYUMsU0FBU0MsY0FBYyxPQUN4Q0YsRUFBV0csVUFBVUMsSUFBSSxRQUN6QixJQUFJQyxFQUFjQyxPQUFPQyxPQUFPTixTQUFTQyxjQUFjLFNBQVUsQ0FBRU0sS0FBTSxPQUFRQyxZQUFhLGNBRTlGLE9BREFULEVBQVdVLFlBQVlMLEdBQ2hCTCxDQUNYLENBdUVBLFNBQVNXLElBQ0wsT0FBTyxJQUFJbkMsRUFBS3VCLElBQ3BCLENDN0VBLE1BQU1hLEVBQWMsSUNOTCxNQUNYLFdBQUFuQyxHQUNJTSxLQUFLOEIsTUFBUSxFQUVqQixDQUVBLE9BQUFDLENBQVFDLEdBQ0poQyxLQUFLOEIsTUFBTUcsS0FBS0QsRUFDcEIsR0RERUUsRUFBYyxJRU5MLE1BQ1osV0FBQXhDLENBQVlDLEVBQVd3QyxFQUFPLFNBQzdCbkMsS0FBS21DLEtBQU9BLEVBQ1puQyxLQUFLTCxVQUFZQSxFQUNqQkssS0FBS29DLE1BQVEsRUFDZCxDQUVBLE9BQUFDLEdBQ0csT0FBT3JDLEtBQUttQyxJQUNmLENBRUEsUUFBQUcsR0FDRyxPQUFPdEMsS0FBS29DLEtBQ2YsQ0FFQSxZQUFBL0IsR0FDRyxPQUFPTCxLQUFLTCxTQUNmLENBRUEsT0FBQTRDLENBQVFDLEdBQ0x4QyxLQUFLbUMsS0FBT0ssQ0FDZixDQUlBLE9BQUFDLENBQVFDLEdBc0JMMUMsS0FBS29DLE1BQU1ILEtBQUtTLEVBQ25CLENBRUEsVUFBQUMsQ0FBV2xELEdBQ1JPLEtBQUtvQyxNQUFNUSxPQUFPNUMsS0FBS29DLE1BQU1TLFFBQVFwRCxHQUFPLEVBQy9DLEdIekNJLFdBRUgsSUFBSXFELEVBQU81QixTQUFTQyxjQUFjLE9BQ2xDMkIsRUFBSzFCLFVBQVVDLElBQUksUUFDbkIsSUFBSXpCLEVBQVFzQixTQUFTQyxjQUFjLE9BQ25DdkIsRUFBTXdCLFVBQVVDLElBQUksU0FDcEIsSUFBSTBCLEVBQWF4QixPQUFPQyxPQUFPTixTQUFTQyxjQUFjLFNBQVUsQ0FBRU0sS0FBTSxPQUFRdUIsTUFBTyxVQUNuRlosRUFBUWxCLFNBQVNDLGNBQWMsT0FNbkMsT0FMQWlCLEVBQU1oQixVQUFVQyxJQUFJLFNBRXBCekIsRUFBTStCLFlBQVlvQixHQUNsQkQsRUFBS25CLFlBQVkvQixHQUNqQmtELEVBQUtuQixZQUFZUyxHQUNWVSxDQUNYLENDbkI2QkcsSUFDdkJDLEVBQWMsSUFBSXpELEVBQUt1QixLRGtGdEIsSUFBb0I4QixFQ2pGM0JaLEVBQVlPLFFBQVFTLEdBQ3BCckIsRUFBWUUsUUFBUUcsR0RnRk9ZLEVDOUVoQlosRUQrRVBoQixTQUFTaUMsY0FBYyxhQUFheEIsWUFBWW1CLEVBQUt6QyxnQkFObEQsU0FBb0J5QyxFQUFNckQsR0FDN0JxRCxFQUFLekMsZUFBZThDLGNBQWMsVUFBVXhCLFlBQVlsQyxFQUFLWSxlQUVqRSxDQzNFQStDLENBQVdsQixFQUFhZ0IsR0RlakIsU0FBU0csRUFBYVAsRUFBTXJELEdBRy9CLElBQUk2RCxFQUFXUixFQUFLekMsZUFBZThDLGNBQWMsbUJBQ2pESSxRQUFRQyxJQUFJRixHQUNaQSxFQUFTRyxpQkFBaUIsVUFBVSxLQUNoQ1gsRUFBS1AsUUFBUWUsRUFBU04sT0FDdEJPLFFBQVFDLElBQUksK0JBQ1pELFFBQVFDLElBQUlWLEVBQUtULFVBQVMsSUFHOUIsSUFBSXFCLEVBQWlCakUsRUFBS1ksZUFBZThDLGNBQWMsU0FDdkRJLFFBQVFDLElBQUlFLEdBQ1pBLEVBQWVELGlCQUFpQixVQUFVLEtBQ3RDaEUsRUFBS2EsU0FBU29ELEVBQWVWLE9BQzdCTyxRQUFRQyxJQUFJLDBCQUNaRCxRQUFRQyxJQUFJL0QsRUFBS1EsWUFDakJzRCxRQUFRQyxJQUFJVixFQUFLUixXQUFVLElBRy9Cb0IsRUFBZUQsaUJBQWlCLFdBQVcsU0FBU0UsR0FDaEQsR0FBaUIsVUFBZEEsRUFBTUMsS0FBNEMsS0FBekJGLEVBQWVWLE1BQWEsQ0FDcERPLFFBQVFDLElBQUksNkJBQ1osSUFBSWQsRUFBVWQsSUFDZGtCLEVBQUtMLFFBQVFDLEdBQ2JJLEVBQUt6QyxlQUFlOEMsY0FBYyxVQUFVeEIsWUFBWWUsRUFBUXJDLGdCQUVoRXFDLEVBQVFyQyxlQUFlOEMsY0FBYyxTQUFTVSxRQUU5Q1IsRUFBYVAsRUFBTUosR0FDbkJhLFFBQVFDLElBQUksMEJBRWhCLENBRWlCLGNBQWRHLEVBQU1DLEtBQWdELEtBQXpCRixFQUFlVixPQUFnQkYsRUFBS1IsV0FBV3dCLE9BQVMsSUFDcEZQLFFBQVFDLElBQUksb0JBQ1ovRCxFQUFLWSxlQUFlMEQsU0FDcEJqQixFQUFLSCxXQUFXbEQsR0FFaEI4RCxRQUFRQyxJQUFJVixFQUFLUixZQUdqQnFCLEVBQU1LLGlCQUNObEIsRUFBS1IsV0FBVzJCLE9BQU8sR0FBRyxHQUFHNUQsZUFBZThDLGNBQWMsU0FBU1UsUUFLM0UsR0FFSixDQ2hFQVIsQ0FBYW5CLEVBQVlnQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2l0ZW0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3VzZXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2xpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGl0ZW17XHJcbiAgICBjb25zdHJ1Y3RvcihyZWZlcmVuY2UsIHRpdGxlLCAgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KXtcclxuICAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZVxyXG4gICAgIHRoaXMudGl0bGUgPSB0aXRsZVxyXG4gICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxyXG4gICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGVcclxuICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGl0bGUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcclxuICAgIH1cclxuICAgIGdldERlc2NyaXB0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb247XHJcbiAgICB9XHJcbiAgICBnZXREdWVEYXRlKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHVlRGF0ZTtcclxuICAgIH0gIFxyXG4gICAgZ2V0UHJpb3JpdHkoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcmlvcml0eTtcclxuICAgIH1cclxuICAgIGdldFJlZmVyZW5jZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZTtcclxuICAgIH0gICBcclxuXHJcbiAgICBzZXRUaXRsZShuZXdUaXRsZSl7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IG5ld1RpdGxlO1xyXG4gICAgfVxyXG4gICAgc2V0RGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pe1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICAgIHNldER1ZURhdGUobmV3RHVlRGF0ZSl7XHJcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gbmV3RHVlRGF0ZTtcclxuICAgIH0gIFxyXG4gICAgc2V0UHJpb3JpdHkobmV3UHJpb3JpdHkpe1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcclxuICAgIH0gICAgXHJcbiAgICBzZXRSZWZlcmVuY2UobmV3UmVmZXJlbmNlKXtcclxuICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IG5ld1JlZmVyZW5jZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuIH1cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IGxpc3QgZnJvbSAnLi9saXN0LmpzJ1xyXG5pbXBvcnQgaXRlbSBmcm9tICcuL2l0ZW0uanMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbURvbSgpe1xyXG4gICAgLy9yZXR1cm5zIGRpdi5pdGVtIGlucHV0IFxyXG4gICAgbGV0IG5ld0l0ZW1Eb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgbmV3SXRlbURvbS5jbGFzc0xpc3QuYWRkKCdpdGVtJylcclxuICAgIGxldCBuZXdJbnB1dERvbSA9IE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSwgeyB0eXBlOiAndGV4dCcsIHBsYWNlaG9sZGVyOiBcIlR5cGUgaGVyZVwifSk7XHJcbiAgICBuZXdJdGVtRG9tLmFwcGVuZENoaWxkKG5ld0lucHV0RG9tKVxyXG4gICAgcmV0dXJuIG5ld0l0ZW1Eb21cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxpc3REb20oKXtcclxuICAgIC8vbGlzdCBkaXZcclxuICAgIGxldCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdCcpXHJcbiAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUnKVxyXG4gICAgbGV0IHRpdGxlSW5wdXQgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JyksIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogXCJUby1Eb1wifSk7XHJcbiAgICBsZXQgaXRlbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgaXRlbXMuY2xhc3NMaXN0LmFkZCgnaXRlbXMnKVxyXG5cclxuICAgIHRpdGxlLmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpXHJcbiAgICBsaXN0LmFwcGVuZENoaWxkKHRpdGxlKVxyXG4gICAgbGlzdC5hcHBlbmRDaGlsZChpdGVtcylcclxuICAgIHJldHVybiBsaXN0XHJcbn0gICBcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpdGVtTGlzdGVuZXIobGlzdCwgaXRlbSl7XHJcblxyXG4gICAgLy91cGRhdGUgbGlzdCB0aXRsZVxyXG4gICAgbGV0IGxpc3ROYW1lID0gbGlzdC5nZXRSZWZlcmVuY2UoKS5xdWVyeVNlbGVjdG9yKFwiZGl2LnRpdGxlIGlucHV0XCIpXHJcbiAgICBjb25zb2xlLmxvZyhsaXN0TmFtZSlcclxuICAgIGxpc3ROYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICBsaXN0LnNldE5hbWUobGlzdE5hbWUudmFsdWUpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJMaXN0IHRpdGxlIGhhcyBiZWVuIHVwZGF0ZWRcIilcclxuICAgICAgICBjb25zb2xlLmxvZyhsaXN0LmdldE5hbWUoKSlcclxuICAgIH0pXHJcblxyXG4gICAgbGV0IGlucHV0UmVmZXJlbmNlID0gaXRlbS5nZXRSZWZlcmVuY2UoKS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIilcclxuICAgIGNvbnNvbGUubG9nKGlucHV0UmVmZXJlbmNlKVxyXG4gICAgaW5wdXRSZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIGl0ZW0uc2V0VGl0bGUoaW5wdXRSZWZlcmVuY2UudmFsdWUpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJUaXRsZSBoYXMgYmVlbiB1cGRhdGVkXCIpXHJcbiAgICAgICAgY29uc29sZS5sb2coaXRlbS5nZXRUaXRsZSgpKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGxpc3QuZ2V0SXRlbXMoKSlcclxuICAgIH0pXHJcblxyXG4gICAgaW5wdXRSZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYoZXZlbnQua2V5ID09PSBcIkVudGVyXCIgJiYgaW5wdXRSZWZlcmVuY2UudmFsdWUgIT09IFwiXCIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZSBuZXcgaXRlbSBoYXMgZmlyZWRcIilcclxuICAgICAgICAgICAgbGV0IG5ld0l0ZW0gPSBjcmVhdGVJdGVtKClcclxuICAgICAgICAgICAgbGlzdC5hZGRJdGVtKG5ld0l0ZW0pXHJcbiAgICAgICAgICAgIGxpc3QuZ2V0UmVmZXJlbmNlKCkucXVlcnlTZWxlY3RvcihcIi5pdGVtc1wiKS5hcHBlbmRDaGlsZChuZXdJdGVtLmdldFJlZmVyZW5jZSgpKVxyXG4gICAgICAgICAgICAvL0ZvY3VzIG5leHQgaXRlbSBmb3IgdHlwaW5nIGNvbnZlbmllbmNlXHJcbiAgICAgICAgICAgIG5ld0l0ZW0uZ2V0UmVmZXJlbmNlKCkucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmZvY3VzKClcclxuXHJcbiAgICAgICAgICAgIGl0ZW1MaXN0ZW5lcihsaXN0LCBuZXdJdGVtKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5ldyBJdGVtIGhhcyBiZWVuIGFkZGVkXCIpXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoZXZlbnQua2V5ID09PSBcIkJhY2tzcGFjZVwiICYmIGlucHV0UmVmZXJlbmNlLnZhbHVlID09PSBcIlwiICYmIGxpc3QuZ2V0SXRlbXMoKS5sZW5ndGggPiAxKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWxldGUgdGhpcyBpdGVtXCIpXHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0UmVmZXJlbmNlKCkucmVtb3ZlKClcclxuICAgICAgICAgICAgbGlzdC5yZW1vdmVJdGVtKGl0ZW0pXHJcbiAgICAgICAgICAgIC8vcmVtb3ZlIGZyb20gbGlzdFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0LmdldEl0ZW1zKCkpXHJcblxyXG4gICAgICAgICAgICAvL0ZvY3VzIGxhc3QgaXRlbSBvZiBhcnJheSBha2EgdGhlIHByZXZpb3VzIGl0ZW1cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICAgICBsaXN0LmdldEl0ZW1zKCkuc2xpY2UoLTEpWzBdLmdldFJlZmVyZW5jZSgpLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5mb2N1cygpXHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbn1cclxuIFxyXG5cclxuZnVuY3Rpb24gY3JlYXRlSXRlbSgpe1xyXG4gICAgcmV0dXJuIG5ldyBpdGVtKGNyZWF0ZUl0ZW1Eb20oKSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEl0ZW0obGlzdCwgaXRlbSl7XHJcbiAgICBsaXN0LmdldFJlZmVyZW5jZSgpLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbXNcIikuYXBwZW5kQ2hpbGQoaXRlbS5nZXRSZWZlcmVuY2UoKSlcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRMaXN0KGxpc3Qpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5saXN0c1wiKS5hcHBlbmRDaGlsZChsaXN0LmdldFJlZmVyZW5jZSgpKVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IHVzZXIgZnJvbSAnLi91c2VyLmpzJ1xyXG5pbXBvcnQgbGlzdCBmcm9tICcuL2xpc3QuanMnXHJcbmltcG9ydCBpdGVtIGZyb20gJy4vaXRlbS5qcydcclxuaW1wb3J0IHtjcmVhdGVJdGVtRG9tLCBjcmVhdGVMaXN0RG9tLCBpdGVtTGlzdGVuZXIsIGFwcGVuZEl0ZW0sIGFwcGVuZExpc3R9IGZyb20gJy4vZG9tLmpzJ1xyXG5cclxuXHJcbmNvbnN0IGRlZmF1bHRVc2VyID0gbmV3IHVzZXIoKVxyXG5jb25zdCBkZWZhdWx0TGlzdCA9IG5ldyBsaXN0KGNyZWF0ZUxpc3REb20oKSlcclxuY29uc3QgZGVmYXVsdEl0ZW0gPSBuZXcgaXRlbShjcmVhdGVJdGVtRG9tKCkpXHJcbmRlZmF1bHRMaXN0LmFkZEl0ZW0oZGVmYXVsdEl0ZW0pXHJcbmRlZmF1bHRVc2VyLmFkZExpc3QoZGVmYXVsdExpc3QpXHJcblxyXG5hcHBlbmRMaXN0KGRlZmF1bHRMaXN0KVxyXG5hcHBlbmRJdGVtKGRlZmF1bHRMaXN0LCBkZWZhdWx0SXRlbSlcclxuaXRlbUxpc3RlbmVyKGRlZmF1bHRMaXN0LGRlZmF1bHRJdGVtKVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgdXNlcntcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5saXN0cyA9IFtdXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZExpc3QobmV3TGlzdCl7XHJcbiAgICAgICAgdGhpcy5saXN0cy5wdXNoKG5ld0xpc3QpXHJcbiAgICB9XHJcblxyXG4gICAgXHJcbn0iLCJpbXBvcnQgaXRlbSBmcm9tICcuL2l0ZW0uanMnXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGxpc3R7XHJcbiAgIGNvbnN0cnVjdG9yKHJlZmVyZW5jZSwgbmFtZSA9IFwiVG8tRG9cIil7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lXHJcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZVxyXG4gICAgdGhpcy5pdGVtcyA9IFtdXHJcbiAgIH1cclxuICAgXHJcbiAgIGdldE5hbWUoKXtcclxuICAgICAgcmV0dXJuIHRoaXMubmFtZVxyXG4gICB9XHJcblxyXG4gICBnZXRJdGVtcygpe1xyXG4gICAgICByZXR1cm4gdGhpcy5pdGVtcztcclxuICAgfVxyXG5cclxuICAgZ2V0UmVmZXJlbmNlKCl7XHJcbiAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZTtcclxuICAgfVxyXG5cclxuICAgc2V0TmFtZShuZXdOYW1lKXtcclxuICAgICAgdGhpcy5uYW1lID0gbmV3TmFtZVxyXG4gICB9XHJcblxyXG5cclxuXHJcbiAgIGFkZEl0ZW0obmV3SXRlbSl7XHJcbiAgIC8vICAgIGxldCBpdGVtUmVmZXJlbmNlID0gbmV3SXRlbS5nZXRSZWZlcmVuY2UoKVxyXG4gICAvLyAgICBsZXQgdGhpc0xpc3QgPSB0aGlzO1xyXG4gICAvLyAgICBpdGVtUmVmZXJlbmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgLy8gICAgICAgbmV3SXRlbS5zZXRUaXRsZShpdGVtUmVmZXJlbmNlLnZhbHVlKVxyXG4gICAvLyAgICB9KVxyXG5cclxuICAgLy8gICBpdGVtUmVmZXJlbmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAvLyAgICAgICBpZihldmVudC5rZXkgPT09IFwiRW50ZXJcIil7XHJcbiAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZSBuZXcgaXRlbVwiKVxyXG4gICAvLyAgICAgICAgICAgbGV0IG5ld0l0ZW1Eb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAvLyAgICAgICAgICAgbmV3SXRlbURvbS5jbGFzc0xpc3QuYWRkKFwiaXRlbVwiKVxyXG4gICAvLyAgICAgICAgICAgbGV0IG5ld0lucHV0RG9tID0gT2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpLCB7IHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6ICdUeXBlIGhlcmUnfSk7XHJcbiAgIC8vICAgICAgICAgICBuZXdJdGVtRG9tLmFwcGVuZENoaWxkKG5ld0lucHV0RG9tKVxyXG5cclxuICAgLy8gICAgICAgICAgIGxldCBuZXdJdGVtID0gbmV3IGl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIsXCJ0ZXN0XCIsXCJ0ZXN0XCIsbmV3SW5wdXREb20pXHJcbiAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzKVxyXG4gICAvLyAgICAgICAgICAgdGhpc0xpc3QuYWRkSXRlbShuZXdJdGVtKVxyXG5cclxuICAgLy8gICAgICAgfVxyXG4gICAvLyAgICB9KVxyXG5cclxuICAgICAgdGhpcy5pdGVtcy5wdXNoKG5ld0l0ZW0pXHJcbiAgIH1cclxuXHJcbiAgIHJlbW92ZUl0ZW0oaXRlbSl7XHJcbiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSwgMSk7XHJcbiAgIH1cclxuXHJcbn1cclxuIl0sIm5hbWVzIjpbIml0ZW0iLCJjb25zdHJ1Y3RvciIsInJlZmVyZW5jZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJ0aGlzIiwiZ2V0VGl0bGUiLCJnZXREZXNjcmlwdGlvbiIsImdldER1ZURhdGUiLCJnZXRQcmlvcml0eSIsImdldFJlZmVyZW5jZSIsInNldFRpdGxlIiwibmV3VGl0bGUiLCJzZXREZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwic2V0RHVlRGF0ZSIsIm5ld0R1ZURhdGUiLCJzZXRQcmlvcml0eSIsIm5ld1ByaW9yaXR5Iiwic2V0UmVmZXJlbmNlIiwibmV3UmVmZXJlbmNlIiwiY3JlYXRlSXRlbURvbSIsIm5ld0l0ZW1Eb20iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJuZXdJbnB1dERvbSIsIk9iamVjdCIsImFzc2lnbiIsInR5cGUiLCJwbGFjZWhvbGRlciIsImFwcGVuZENoaWxkIiwiY3JlYXRlSXRlbSIsImRlZmF1bHRVc2VyIiwibGlzdHMiLCJhZGRMaXN0IiwibmV3TGlzdCIsInB1c2giLCJkZWZhdWx0TGlzdCIsIm5hbWUiLCJpdGVtcyIsImdldE5hbWUiLCJnZXRJdGVtcyIsInNldE5hbWUiLCJuZXdOYW1lIiwiYWRkSXRlbSIsIm5ld0l0ZW0iLCJyZW1vdmVJdGVtIiwic3BsaWNlIiwiaW5kZXhPZiIsImxpc3QiLCJ0aXRsZUlucHV0IiwidmFsdWUiLCJjcmVhdGVMaXN0RG9tIiwiZGVmYXVsdEl0ZW0iLCJxdWVyeVNlbGVjdG9yIiwiYXBwZW5kSXRlbSIsIml0ZW1MaXN0ZW5lciIsImxpc3ROYW1lIiwiY29uc29sZSIsImxvZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnB1dFJlZmVyZW5jZSIsImV2ZW50Iiwia2V5IiwiZm9jdXMiLCJsZW5ndGgiLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==